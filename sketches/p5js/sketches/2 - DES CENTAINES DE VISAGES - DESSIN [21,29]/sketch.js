// DESSIN 29 : removed two inner loops, change B and/or N
// ----------------------------------------------------
let DESSIN = 21;

// ----------------------------------------------------
let NP=480,PI=Math.PI;
let B=3,N=5,O=2,V=1;
if (DESSIN==22)
  B=1,N=1,O=1,V=1;
else if (DESSIN==23)
  B=2,N=2,O=2,V=2;
else if (DESSIN==24)
  B=3,N=3,O=3,V=3;
else if (DESSIN==25)
  B=4,N=4,O=4,V=4;
else if (DESSIN==26)
  B=5,N=3,O=2,V=5;
else if (DESSIN==27)
  B=2,N=4,O=1,V=2;
else if (DESSIN==28)
  B=5,N=5,O=5,V=5;

// ----------------------------------------------------
function setup() 
{
  INIT();
  strokeWeight(2.);
  if (DESSIN<29)
  {
    DESSINE_DATA(BOUCHE[B-1]);
    DESSINE_DATA(NEZ[N-1]);
    DESSINE_DATA(YEUX[O-1]);
    DESSINE_DATA(VISAGE[V-1]);
  }
  else
  {
    //for (B=1;B<=1;B++)
      //for (N=1;N<=1;N++)
      B=2;N=1;  
      for (O=1;O<=5;O++)
          for (V=1;V<=5;V++)
          {
            DESSINE_DATA(BOUCHE[B-1],O,V);
            DESSINE_DATA(NEZ[N-1],O,V);
            DESSINE_DATA(YEUX[O-1],O,V);
            DESSINE_DATA(VISAGE[V-1],O,V);
          }
  }
  
  TRACE2();
}

// ----------------------------------------------------
function DESSINE_DATA(D,O,V)
{
  let X_,Y_;
  for (let I=0;I<D.length;I++)
  {
    for (let J=0;J<D[I].length;J+=2)
    {
        let E=D[I][J];   
        let F=D[I][J+1];
        if (DESSIN<29)
          X_=int((E+10)*NP/120),Y_=int(F*NP/120);
        else
          X_=int((E+10)*NP/120/5+(V-1)*NP/5),Y_=int(F*NP/120/5+(O-1)*NP/5);
        if (J==0) LPRINT(`M${X_},${Y_}`);
        if (J>0) {H=0;LPRINT(`D${X_},${Y_}`);}
    }
  }  
}

// ----------------------------------------------------
let BOUCHE = [[[43,25, 47,32], [45,29, 62,29], [60,33, 64,25], [50,32, 54,32]],
      [[48,23, 60,23, 64,28, 60,33, 48,33, 42,28, 48,23]],
      [[45,30, 50,25, 58,25, 63,30, 45,30]],
      [[40,25, 42,33, 63,33, 65,25, 60,30, 45,30, 40,25],
       [44,25, 61,25]], [[45,25, 60,25, 56,33, 45,25]]]
let NEZ = [[[48,40, 58,40, 58,67]], 
       [[50,35, 50,45], [50,40, 62,48, 58,60], [58,35, 58,40]],
       [[53,43, 65,40, 60,70]], [[50,40, 60,40, 65,50, 60,67]],
       [[50,35, 60,35, 63,40, 60,45, 60,68]]]
let YEUX = [[[40,60, 46,56, 52,60, 46,64, 40,60],
       [64,60, 72,56, 78,60, 72,64, 64,60],
        [37,70, 57,70], [60,70, 78,70]], 
       [[38,60,55,60], [63,60, 80,60], [41,60, 46,65, 51,60],
        [66,60, 71,65, 76,60], [35,65, 55,72], [63,72, 76,65]],
       [[38,54, 52,65], [60,65, 73,54], [40,65, 43,70, 46,65],
        [67,65, 70,70, 73,65], [38,72, 50,77, 35,77], [76,77, 60,77, 74,72]],
       [[40,68, 50,73, 53,68], [66,68, 77,73, 80,68],
        [67,58, 77,58, 77,65, 67,58], [40,58, 50,58, 50,65, 40,58]],
       [[35,60, 50,60], [65,60, 80,60], [44,62, 48,62], [69,62, 73,62],
        [35,68, 50,68, 50,70, 35,70], [80,70, 65,70, 65,68, 80,68]]]
let VISAGE = [[[35,66, 25,70, 22,60, 30,45, 36,15, 60,15, 78,48, 82,92, 68,108,
         35,105, 43,95, 68,95, 80,80],
        [33,30, 28,28, 15,65, 35,105, 43,95, 30, 68]],
       [[35,70, 23,70, 23,45, 35,55],
        [29,50, 40,10, 60,10, 82,58, 80,90, 70,105, 35,107, 20,73, 23,70]],
       [[90,83, 90,30, 70,15, 40,15, 20,30, 20,83, 15,83, 15,105, 95,105,
         95,83, 80,83, 75,95, 35,95, 30,83, 20,83]],
       [[80,88, 82,57, 75,45, 75,20, 68,10, 40,10, 28,24, 28,52, 23,48,
         23,66, 21,67, 30,95, 65,108, 82,92, 72,80, 66,90, 35,75, 30,65,
         23,66]], [[32,70, 27,67, 32,62],
        [85,75, 70,20, 58,5, 35,18, 35,52, 40,20, 70,20],
        [35,52, 20,68, 30,75, 38,75, 60,92, 55,115, 20,90, 18,80, 22,70],
        [85,75, 87,95, 55,115, 60,92, 85,75]]]
